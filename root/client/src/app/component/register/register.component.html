<section>
  <form #registerForm="ngForm" (ngSubmit)="register()" class="register-form">
    <mat-form-field>
      <input matInput name="token" required maxlength="40" type="text"
             placeholder="{{'register.email.placeholder' | translate}}"
             [(ngModel)]="token"
             pattern="^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$"
             #tokenInput="ngModel"/>
      <fa-icon [icon]="['fas', 'user']" matSuffix></fa-icon>
      <mat-hint align="start">{{'register.email.hint' | translate}}</mat-hint>
      <mat-error *ngIf="tokenInput.hasError('required')">
        {{'register.email.error.client.required' | translate}}
      </mat-error>
      <mat-error *ngIf="tokenInput.hasError('maxlength')">
        {{'register.email.error.client.maxlenght' | translate}}
      </mat-error>
      <mat-error *ngIf="tokenInput.hasError('pattern')">
        {{'register.email.error.client.pattern' | translate}}
      </mat-error>
      <!--The server side validation error-->
      <mat-error *ngIf="tokenInput.hasError('server')">
        {{'register.email.error.server.'+ tokenInput.errors['server'] | translate}}
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <input matInput name="password" required maxlength="16" minlength="6" type="password"
             [(ngModel)]="password"
             placeholder="{{'register.password.placeholder' | translate}}"
             pattern="^.*(?=.{6,16})(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*?\[\]\(\)\=\-\_\+\\\|\<\>\,\.\/]).*$"
             #passwordInput="ngModel"/>
      <fa-icon [icon]="['fas', 'lock']" matSuffix></fa-icon>
      <mat-hint align="start">{{'register.password.hint' | translate}}</mat-hint>
      <mat-error *ngIf="passwordInput.hasError('required')">
        {{'register.password.error.client.required' | translate}}
      </mat-error>
      <mat-error *ngIf="passwordInput.hasError('maxlength')">
        {{'register.password.error.client.maxlength' | translate}}
      </mat-error>
      <mat-error *ngIf="passwordInput.hasError('minlength')">
        {{'register.password.error.client.minlength' | translate}}
      </mat-error>
      <mat-error *ngIf="passwordInput.hasError('pattern')">
        {{'register.password.error.client.pattern' | translate}}
      </mat-error>
      <!--The server side validation error-->
      <mat-error *ngIf="passwordInput.hasError('server')">
        {{'register.password.error.server.'+ passwordInput.errors['server'] | translate}}
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <input matInput name="nickname" required maxlength="12" minlength="3" type="text"
             [(ngModel)]="nickname"
             placeholder="{{'register.nickname.placeholder' | translate}}"
             pattern="^[\u4E00-\u9FA5A-Za-z0-9_]+$"
             #nicknameInput="ngModel"/>
      <fa-icon [icon]="['fas', 'laugh']" matSuffix></fa-icon>
      <mat-hint align="start">{{'register.nickname.hint' | translate}}</mat-hint>
      <mat-error *ngIf="nicknameInput.hasError('required')">
        {{'register.nickname.error.client.required' | translate}}
      </mat-error>
      <mat-error *ngIf="nicknameInput.hasError('maxlength')">
        {{'register.nickname.error.client.maxlength' | translate}}
      </mat-error>
      <mat-error *ngIf="nicknameInput.hasError('minlength')">
        {{'register.nickname.error.client.minlength' | translate}}
      </mat-error>
      <mat-error *ngIf="nicknameInput.hasError('pattern')">
        {{'register.nickname.error.client.pattern' | translate}}
      </mat-error>
      <!--The server side validation error-->
      <mat-error *ngIf="nicknameInput.hasError('server')">
        {{'register.nickname.error.server.'+ nicknameInput.errors['server'] | translate}}
      </mat-error>
    </mat-form-field>
    <div class="button-container">
      <button mat-raised-button color="primary" class="button-theme" type="submit" [disabled]="!registerForm.valid">
        Register
      </button>
    </div>
  </form>
  <nwen-separator [showContent]="true">
    Register with social account
  </nwen-separator>
  <div class=" social-application-container">
    <button mat-mini-fab>
      <fa-icon [icon]="['fab','qq']"></fa-icon>
    </button>
    <button mat-mini-fab>
      <fa-icon [icon]="['fab','weixin']"></fa-icon>
    </button>
    <button mat-mini-fab class="others">
      <fa-icon [icon]="['fas','ellipsis-v']"></fa-icon>
    </button>
  </div>
  <div class="login-link-container">
    <a routerLink="/login">Go to login</a>
  </div>
</section>
